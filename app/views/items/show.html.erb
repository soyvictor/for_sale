<div class="container mt-4 p-4" style="background-color:rgba(255,200,100,0.1);">
  <h1 class=""><%= @item.name %> - $<%= @item.price %></h1>

  <div class="row">
      <div class="col-lg-5">
        <% if @item.photos.attached? %>
          <div style="max-width: 400px;">
             <div id="carouselExampleControls" class="carousel slide carousel-slider" data-ride="carousel" data-interval="false">

              <div class="carousel-inner rounded mb-3" style="width: 100%; height: 400px !important;">
                <div class="carousel-item active">
                  <%= cl_image_tag @item.photos.first.key, width: 400, height: 400, crop: :pad, class: "d-block w-100 h-100 carousel-img", alt: "first slide" %>
                </div>


                <% @item.photos.drop(1).each do |photo| %>

                  <div class="carousel-item">
                    <%= cl_image_tag photo.key, width: 400, height: 400, crop: :pad,  class: "d-block w-100 h-100 carousel-img", alt: "a slide" %>
                  </div>
                <% end %>
              </div>
              <% if @item.photos.length > 1 %>
              <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
              </a>
              <% end %>
              <% if @item.photos.length > 1 %>
              <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
              </a>
              <% end %>
            </div>
          </div>
        <% end %>


            <% if @item.photos.attached? && @item.photos.length > 1 %>
              <div class="mb-2 mt-1">
                <% the_num2 = 0 %>
                <% @item.photos.take(10).each do |photo| %>

                  <%= cl_image_tag photo.key, size:"70x70", class: "thumbnail", style:"border-radius: 6px;", :data => { :count => "#{the_num2}" } %>
                  <% the_num2 += 1 %>
                <% end %>
              </div>
          <% end %>

    </div>

    <div class="col-lg-7">
      <p class="mt-3"><%= @item.description %></p>
      <% if current_user == @item.user %>
        <%= link_to "Edit", edit_item_path(@item) %>
        <%= link_to "Delete", item_path(@item), method: :delete, data: { confirm: "Are you sure?"} %>
      <% end %>
    </div>
 </div>
</div>

   <div class="modal">
      <div class="modalInner">
        <% if @item.photos.length == 1 %>
        <button aria-label="Previous Photo" class="prev hidden-opacity"><</button>
        <% else %>
        <button aria-label="Previous Photo" class="prev"><</button>
        <% end %>
        <figure>
          <%= cl_image_tag @item.photos.first.key, width: 800, height: 800, crop: :pad, alt: "first slide" %>
          <figcaption>
            <h2>Test Title</h2>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolor dignissimos obcaecati nisi placeat eaque
              voluptate, exercitationem eius? Non, iusto provident itaque, voluptate labore a alias officia, amet sunt
              pariatur praesentium tenetur voluptatibus dolores mollitia quasi aliquid assumenda possimus maiores
              exercitationem!</p>
          </figcaption>
        </figure>
        <% if @item.photos.length == 1 %>
        <button class="next hidden-opacity" aria-label="Next Photo">></button>
        <% else %>
        <button class="next" aria-label="Next Photo">></button>
        <% end %>
      </div>
    </div>

<%= javascript_pack_tag 'carousel' %>
<%= javascript_pack_tag 'modal' %>





